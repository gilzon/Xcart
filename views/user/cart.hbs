<section>
  <div class="container">

    <table class="table mt-5">

      <thead>
        <tr>
          <th scope="col">Item</th>
          <th scope="col">Name</th>
          <th scope="col">Quantity</th>
        </tr>
      </thead>

      <tbody>
        {{#each products}}
        <tr>

          <td><img style="width: 70px;height:70px" src="/product-images/{{this.product._id}}.jpg" alt=""></td>
          <td>{{this.product.Name}}</td>

          <td>
            <button   class= "btn btn-primary cart-item-count mr-3 "
              onclick="changeQuantity('{{this._id}}','{{this.product._id}}',-1)">-</button>  {{this.quantity}}  <button
              class="btn btn-primary cart-item-count ml-3" onclick="changeQuantity('{{this._id}}','{{this.product._id}}',1)">+</button>
          </td>
          <td>
            <a href="#" class="btn btn-danger">Remove</a>
          </td>

        </tr>

        {{/each}}
      </tbody>
    </table>
  </div>
</section>

<script>
  function changeQuantity(cartId, proId, count) {
    $.ajax({
      url: '/change-product-quantity',
      data: {
        cart: cartId,
        product: proId,
        count: count
      },
      method: 'post',
      success: (response) => {
        location(reload);
        alert(response)
      }
    })
  }
</script>


